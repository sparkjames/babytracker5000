<div class="notes">
  <div class="container">

    <app-note-form></app-note-form>

    <div class="notes-listing">
      <div class="notes-listing-item" *ngFor="let note of notes; let i = index" (click)="onClickNoteListItem($event,i)">

        <div class="row" *ngIf="editMode === i">
          <div class="col-xs-12">
            <app-note-form [noteId]="i" [(editMode)]="editMode"></app-note-form>
          </div>
        </div>

        <div class="row" *ngIf="editMode !== i">

          <div class="col-sm-6">
            {{note.description}}
          </div>

          <div class="col-sm">
            {{note.noteType}}
          </div>

          <div class="col-sm" *ngIf="note.noteType === 'Sleep' && note.duration">
            {{note.duration}}
          </div>

          <div class="col-sm" *ngIf="note.noteType === 'Feeding' && note.feedDetails?.length">
            <ul>
              <li *ngFor="let detail of note.feedDetails?.split('|')">
                {{ detail }}
              </li>
            </ul>
          </div>

          <div class="col-sm" *ngIf="note.noteType === 'Diaper' && note.diaperDetails?.length">
            <ul>
              <li *ngFor="let detail of note.diaperDetails?.split('|')">
                {{ detail }}
              </li>
            </ul>
          </div>

          <div class="col-sm notes-listing-controls" *ngIf="viewControls == i">
            <button type="button" class="btn btn-secondary" (click)="onClickEditNoteListItem(i)"><i class="bi bi-pencil-fill"></i><span class="button-label">Edit</span></button>
            <button type="button" class="btn btn-danger" (click)="onClickDeleteNoteListItem(i)"><i class="bi bi-x-circle"></i><span class="button-label">Delete</span></button>
          </div>

        </div>

      </div>
    </div>

  </div>
</div>
